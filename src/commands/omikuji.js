export const data = {
  name: 'omikuji',
  description: 'ãŠã¿ãã˜ã‚’å¼•ã„ã¦é‹å‹¢ã‚’å ã†',
};

export async function execute(message, args) {
  // é‹å‹¢ã®ç¨®é¡ã¨å¯¾å¿œã™ã‚‹çµµæ–‡å­—
  const fortunes = [
    { result: 'å¤§å‰', emoji: 'ğŸŒŸ', description: 'æœ€é«˜ã®é‹å‹¢ï¼ä½•ã‚’ã‚„ã£ã¦ã‚‚ä¸Šæ‰‹ãã„ããã†ï¼' },
    { result: 'å‰', emoji: 'âœ¨', description: 'è‰¯ã„é‹å‹¢ã§ã™ã€‚ç©æ¥µçš„ã«è¡Œå‹•ã™ã‚‹ã¨ã„ã„ã“ã¨ãŒã‚ã‚‹ã‹ã‚‚ï¼' },
    { result: 'ä¸­å‰', emoji: 'ğŸŒˆ', description: 'ã¾ãšã¾ãšã®é‹å‹¢ã€‚ãƒªãƒ©ãƒƒã‚¯ã‚¹ã—ã¦éã”ã—ã¾ã—ã‚‡ã†ã€‚' },
    { result: 'å°å‰', emoji: 'ğŸ€', description: 'å°ã•ãªå¹¸é‹ãŒèˆã„è¾¼ã¿ãã†ã€‚æ—¥å¸¸ã®å°ã•ãªå–œã³ã‚’å¤§åˆ‡ã«ã€‚' },
    { result: 'æœ«å‰', emoji: 'ğŸŒ±', description: 'å¾Œã«ãªã£ã¦è‰¯ã„ã“ã¨ãŒã‚ã‚‹ã‹ã‚‚ã€‚ç„¦ã‚‰ãšå¾…ã¡ã¾ã—ã‚‡ã†ã€‚' },
    { result: 'å‡¶', emoji: 'âš¡', description: 'å°‘ã—æ³¨æ„ãŒå¿…è¦ãªæ—¥ã€‚æ…é‡ã«è¡Œå‹•ã—ã¾ã—ã‚‡ã†ã€‚' },
    { result: 'å¤§å‡¶', emoji: 'â˜”', description: 'é‹æ°—ãŒä½è¿·ä¸­ã€‚ç„¡ç†ã¯ã›ãšé™ã‹ã«éã”ã™ã®ãŒã‚ªã‚¹ã‚¹ãƒ¡ã€‚' }
  ];
  
  // é …ç›®ã”ã¨ã®é‹å‹¢
  const aspects = [
    { name: 'å­¦æ¥­/ä»•äº‹', results: ['çµ¶å¥½èª¿ï¼ç›®æ¨™é”æˆã®ãƒãƒ£ãƒ³ã‚¹ï¼', 'å …å®Ÿã«é€²ã‚ã‚Œã°æˆæœãŒå‡ºã‚‹ã§ã—ã‚‡ã†', 'åœ°é“ãªåŠªåŠ›ãŒå®Ÿã‚’çµã³ã¾ã™', 'å°‘ã—åœæ»æ°—å‘³ã€‚åŸºæœ¬ã«ç«‹ã¡è¿”ã‚Šã¾ã—ã‚‡ã†', 'å›°é›£ãŒã‚ã£ã¦ã‚‚è«¦ã‚ãªã„ã§'] },
    { name: 'æ‹æ„›', results: ['ç´ æ•µãªå‡ºä¼šã„ã®ãƒãƒ£ãƒ³ã‚¹ï¼', 'è‰¯å¥½ãªé–¢ä¿‚ãŒç¶šããã†', 'è‡ªåˆ†ã®æ°—æŒã¡ã«æ­£ç›´ã«ãªã‚Šã¾ã—ã‚‡ã†', 'ç›¸æ‰‹ã®æ°—æŒã¡ã‚’è€ƒãˆã¦', 'ç„¦ã‚‰ãšè‡ªç„¶ä½“ã§ã„ã‚‹ã“ã¨ãŒå¤§åˆ‡'] },
    { name: 'å¥åº·', results: ['çµ¶å¥½èª¿ï¼ã§ã‚‚ç„¡ç†ã¯ç¦ç‰©', 'ãƒãƒ©ãƒ³ã‚¹ã®è‰¯ã„é£Ÿäº‹ã‚’å¿ƒãŒã‘ã¦', 'é©åº¦ãªé‹å‹•ã‚’å–ã‚Šå…¥ã‚Œã¾ã—ã‚‡ã†', 'ç–²ã‚ŒãŒæºœã¾ã£ã¦ã„ã‚‹ã‹ã‚‚ã€‚ä¼‘æ¯ã‚’', 'ä½“èª¿ç®¡ç†ã«æ°—ã‚’ã¤ã‘ã¦'] },
    { name: 'é‡‘é‹', results: ['è‡¨æ™‚åå…¥ãŒã‚ã‚‹ã‹ã‚‚ï¼', 'å …å®Ÿãªå‡ºè²»ã‚’å¿ƒãŒã‘ã¦', 'ç„¡é§„é£ã„ã«æ³¨æ„', 'æ€ã‚ã¬å‡ºè²»ã«å‚™ãˆã¾ã—ã‚‡ã†', 'æˆ‘æ…¢ã‚‚æ™‚ã«ã¯å¿…è¦ã§ã™'] }
  ];
  
  // ãƒ©ãƒ³ãƒ€ãƒ ã«é‹å‹¢ã‚’é¸æŠ
  const randomFortune = fortunes[Math.floor(Math.random() * fortunes.length)];
  
  // é …ç›®ã”ã¨ã®é‹å‹¢ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«é¸æŠ
  const aspectFortunes = aspects.map(aspect => {
    return {
      name: aspect.name,
      result: aspect.results[Math.floor(Math.random() * aspect.results.length)]
    };
  });
  
  // ãŠã¿ãã˜ã®ã‚¢ã‚¹ã‚­ãƒ¼ã‚¢ãƒ¼ãƒˆ
  const omikujiArt = `
  ğŸ® ãŠã¿ãã˜ ğŸ®
  +-------------------+
  |     ${randomFortune.result} ${randomFortune.emoji}     |
  +-------------------+
  `;
  
  // é …ç›®ã”ã¨ã®é‹å‹¢ã‚’æ–‡å­—åˆ—ã«å¤‰æ›
  const aspectResults = aspectFortunes.map(aspect => `**${aspect.name}**: ${aspect.result}`).join('\n');
  
  // æ—¥ä»˜ã¨æ›œæ—¥ï¼ˆä»Šæ—¥ã®é‹å‹¢ã¨ã—ã¦ï¼‰
  const today = new Date();
  const dayNames = ['æ—¥', 'æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ'];
  const dateStr = `${today.getMonth() + 1}æœˆ${today.getDate()}æ—¥ï¼ˆ${dayNames[today.getDay()]}ï¼‰`;
  
  // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä½œæˆ
  const replyMessage = `${omikujiArt}\n**${dateStr}ã®é‹å‹¢**: ${randomFortune.result}\n*${randomFortune.description}*\n\n${aspectResults}\n\n${message.author.username}ã•ã‚“ã€ä»Šæ—¥ã‚‚ç´ æ•µãªä¸€æ—¥ã«ãªã‚Šã¾ã™ã‚ˆã†ã«ï¼`;
  
  // çµæœã‚’é€ä¿¡
  await message.reply(replyMessage);
}
